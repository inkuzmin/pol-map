var _=function(){var _={};_.hasProp={}.hasOwnProperty;_.extends=function(child,parent){var result={};for(var key in child){if(_.hasProp.call(child,key)){result[key]=child[key]}}for(var key in parent){if(_.hasProp.call(parent,key)){result[key]=parent[key]}}return result};return _}();Number.prototype.toFixedDown=function(digits){var re=new RegExp("(\\d+\\.\\d{"+digits+"})(\\d)"),m=this.toString().match(re);return m?parseFloat(m[1]):this.valueOf()};var pubsub={};(function(myObject){var topics={};var subUid=-1;myObject.publish=function(topic,args){if(!topics[topic]){return false}var subscribers=topics[topic],len=subscribers?subscribers.length:0;while(len--){subscribers[len].func(topic,args)}return this};myObject.subscribe=function(topic,func){if(!topics[topic]){topics[topic]=[]}var token=(++subUid).toString();topics[topic].push({token:token,func:func});return token};myObject.unsubscribe=function(token){for(var m in topics){if(topics[m]){for(var i=0,j=topics[m].length;i<j;i++){if(topics[m][i].token===token){topics[m].splice(i,1);return token}}}}return this}})(pubsub);(function(root,undefined){var document=root.document;var previousPM=root.PM;if(previousPM){throw new Error("Class PM was already defined");return}root.PM={}})(window);(function(root,undefined){var document=root.document;var Pin={show:function(){var self=this;self.nodes.group.style.display=""},hide:function(){var self=this;self.nodes.group.style.display="none"},_init:function(){var self=this;self.center=self.options.center;self.viewport=self.options.viewport;self.image=self.options.image;self.regs=self.options.regs;function init(){self.svg=self.viewport.ownerSVGElement;self.nodes=self._createPin();self._addPin();self._unscale();self._bindHandlers()}if(self.image){var img=new Image;img.onload=function(){self.image.width=img.width;self.image.height=img.height};img.src=self.image.src;init()}else{init()}},_bindHandlers:function(){var self=this;var subscription=pubsub.subscribe("map:wheel",function(){self._unscale()});self.nodes.group.addEventListener("mouseover",function(e){pubsub.publish("map:pin:over",{target:self,original:e})},false);self.nodes.group.addEventListener("mouseleave",function(e){pubsub.publish("map:pin:out",{target:self,original:e})},false);self.nodes.group.addEventListener("mousedown",function(e){self.click=[e.clientX,e.clientY]},false);self.nodes.group.addEventListener("mouseup",function(e){if(Math.abs(e.clientX-self.click[0])<3&&Math.abs(e.clientY-self.click[1])<3){pubsub.publish("map:pin:click",{target:self,original:e})}},false)},_unscale:function(){console.log("Override it!")},_addPin:function(){var self=this;self.viewport.appendChild(self.nodes.group)},_createPin:function(){console.log("Override it!")},_obtainOptions:function(options){var self=this;self.options={};for(var param in options){if(options.hasOwnProperty(param))self.options[param]=options[param]}},_createPath:function(opts){var self=this;var pathNode=document.createElementNS("http://www.w3.org/2000/svg","path");pathNode.setAttribute("vector-effect",opts.vectorEffect);pathNode.setAttribute("stroke",opts.stroke);pathNode.setAttribute("stroke-width",opts.strokeWidth);pathNode.setAttribute("d",opts.d);pathNode.setAttribute("fill",opts.fill);pathNode.setAttribute("class",opts.className);return pathNode},_createCircle:function(opts){var self=this;var circleNode=document.createElementNS("http://www.w3.org/2000/svg","circle");circleNode.setAttribute("cy",opts.cy);circleNode.setAttribute("cx",opts.cx);circleNode.setAttribute("r",opts.r);circleNode.setAttribute("stroke",opts.stroke);circleNode.setAttribute("fill",opts.fill);circleNode.setAttribute("stroke-width",opts.strokeWidth);circleNode.setAttribute("vector-effect",opts.vectorEffect);circleNode.setAttribute("class",opts.className);circleNode.setAttribute("opacity",opts.opacity);return circleNode},_createImage:function(opts){var self=this;var imageNode=document.createElementNS("http://www.w3.org/2000/svg","image");imageNode.setAttribute("x",opts.x);imageNode.setAttribute("y",opts.y);if(opts.height&&opts.width){imageNode.setAttribute("height",opts.height);imageNode.setAttribute("width",opts.width)}imageNode.setAttributeNS("http://www.w3.org/1999/xlink","href",opts.src);imageNode.setAttribute("class",opts.className);imageNode.setAttribute("opacity",opts.opacity);return imageNode}};root.PM.Pin=Pin})(this);(function(root,undefined){var document=root.document;var UPin=function(options){var self=this;self._obtainOptions(options);self._init()};UPin.prototype=_.extends(root.PM.Pin,{_unscale:function(){var self=this;var m=self.svg.getTransformToElement(self.viewport);if(self.image){function unscaleImage(){self.nodes.image.setAttribute("height",self.image.height*m.a);self.nodes.image.setAttribute("width",self.image.width*m.a);if(self.image.align){self.nodes.image.setAttribute("y",self.center.y-self.image.height/2*m.a-20*m.a)}else{self.nodes.image.setAttribute("y",self.center.y-self.image.height*m.a-20*m.a)}self.nodes.image.setAttribute("x",self.center.x-self.image.width/2*m.a)}if(self.image.height&&self.image.width){unscaleImage()}else{var i=setInterval(function(){if(self.image.height&&self.image.width){unscaleImage();clearInterval(i)}},100)}}else{self.nodes.circle.setAttribute("r",10*m.a);self.nodes.circle.setAttribute("cy",self.center.y-20*m.a)}self.nodes.path.setAttribute("d","M "+self.center.x+" "+self.center.y+" l 0 -"+20*m.a)},_createPin:function(){var self=this;var groupNode=document.createElementNS("http://www.w3.org/2000/svg","g");groupNode.className="upin";groupNode.style.display="none";var pathNode=self._createPath({vectorEffect:"non-scaling-stroke",stroke:self.options.stroke||"royalblue",strokeWidth:"2",d:"M "+self.center.x+" "+self.center.y+" l 0 -500",fill:"none",className:"upin"});groupNode.appendChild(pathNode);if(self.image){var imageNode=self._createImage({x:self.center.x-500,y:self.center.y,className:"mark "+self.options.className,src:self.image.src});groupNode.appendChild(imageNode);return{group:groupNode,image:imageNode,path:pathNode}}else{var circleNode=self._createCircle({cy:self.center.y-500,cx:self.center.x,r:"10",stroke:self.options.stroke||"royalblue",fill:self.options.fill||"white",strokeWidth:"2",vectorEffect:"non-scaling-stroke",className:"upin"});groupNode.appendChild(circleNode);return{group:groupNode,path:pathNode,circle:circleNode}}}});root.PM.UPin=UPin})(this);(function(root,undefined){var document=root.document;var PPin=function(options){var self=this;self._obtainOptions(options);self._init()};PPin.prototype=_.extends(root.PM.Pin,{_init:function(){var self=this;self.centers={a:self.options.centers.a,b:self.options.centers.b};root.PM.Pin._init.call(this)},_unscale:function(){var self=this;var m=self.svg.getTransformToElement(self.viewport);if(self.image){function unscaleImage(){self.nodes.image.setAttribute("height",self.image.height*m.a);self.nodes.image.setAttribute("width",self.image.width*m.a);if(self.image.align){self.nodes.image.setAttribute("y",self.center.y-self.image.height/2*m.a-50*m.a)}else{self.nodes.image.setAttribute("y",self.center.y-self.image.height*m.a-50*m.a)}self.nodes.image.setAttribute("x",self.center.x-self.image.width/2*m.a)}if(self.image.height&&self.image.width){unscaleImage()}else{var i=setInterval(function(){if(self.image.height&&self.image.width){unscaleImage();clearInterval(i)}},100)}}else{self.nodes.circle.setAttribute("r",10*m.a);self.nodes.circle.setAttribute("cy",self.center.y-50*m.a)}self.nodes.pathA.setAttribute("d","M "+self.centers.a.x+" "+self.centers.a.y+" L "+self.center.x+" "+(self.center.y-50*m.a));self.nodes.pathB.setAttribute("d","M "+self.centers.b.x+" "+self.centers.b.y+" L "+self.center.x+" "+(self.center.y-50*m.a))},_createPin:function(){var self=this;self.center={x:(self.centers.a.x+self.centers.b.x)/2,y:Math.max(self.centers.a.y,self.centers.b.y)};var groupNode=document.createElementNS("http://www.w3.org/2000/svg","g");groupNode.className="ppin";groupNode.style.display="none";var pathNodeA=self._createPath({vectorEffect:"non-scaling-stroke",stroke:self.options.stroke||"darkred",strokeWidth:"2",d:"M "+self.centers.a.x+" "+self.centers.a.y+" L "+self.center.x+" "+(self.center.y-500),fill:"none",className:"ppin"});var pathNodeB=self._createPath({vectorEffect:"non-scaling-stroke",stroke:self.options.stroke||"darkred",strokeWidth:"2",d:"M "+self.centers.b.x+" "+self.centers.b.y+" L "+self.center.x+" "+(self.center.y-500),fill:"none",className:"ppin"});groupNode.appendChild(pathNodeA);groupNode.appendChild(pathNodeB);if(self.image){var imageNode=self._createImage({x:self.center.x-500,y:self.center.y,className:"mark "+self.options.className,src:self.image.src});groupNode.appendChild(imageNode);return{group:groupNode,image:imageNode,pathA:pathNodeA,pathB:pathNodeB}}else{var circleNode=self._createCircle({cy:self.center.y-500,cx:self.center.x,r:"10",stroke:self.options.stroke||"darkred",fill:self.options.fill||"grey",strokeWidth:"2",vectorEffect:"non-scaling-stroke",className:"ppin"});groupNode.appendChild(circleNode);return{group:groupNode,pathA:pathNodeA,pathB:pathNodeB,circle:circleNode}}}});root.PM.PPin=PPin})(this);(function(root,undefined){var document=root.document;var Mark=function(options){var self=this;self._obtainOptions(options);self._init()};Mark.prototype=_.extends(root.PM.Pin,{_unscale:function(){var self=this;var m=self.svg.getTransformToElement(self.viewport);if(self.image){function unscaleImage(){self.nodes.image.setAttribute("height",self.image.height*m.a);self.nodes.image.setAttribute("width",self.image.width*m.a);if(self.image.align){self.nodes.image.setAttribute("y",self.center.y-self.image.height/2*m.a)}else{self.nodes.image.setAttribute("y",self.center.y-self.image.height*m.a)}self.nodes.image.setAttribute("x",self.center.x-self.image.width/2*m.a)}if(self.image.height&&self.image.width){unscaleImage();clearInterval(i)}else{var i=setInterval(function(){if(self.image.height&&self.image.width){unscaleImage();clearInterval(i)}},100)}}else{self.nodes.circleInner.setAttribute("r",10*m.a);self.nodes.circleInner.setAttribute("cy",self.center.y-20*m.a);self.nodes.circleOuter.setAttribute("r",25*m.a);self.nodes.circleOuter.setAttribute("cy",self.center.y-20*m.a)}},_createPin:function(){var self=this;var groupNode=document.createElementNS("http://www.w3.org/2000/svg","g");groupNode.className="mark "+self.options.className;groupNode.style.display="none";if(self.image){var imageNode=self._createImage({x:self.center.x-500,y:self.center.y,className:"mark "+self.options.className,src:self.image.src});groupNode.appendChild(imageNode);return{group:groupNode,image:imageNode}}else{var circleInnerNode=self._createCircle({cy:self.center.y-500,cx:self.center.x,r:"10",stroke:self.options.stroke||"royalblue",fill:self.options.fill||"white",strokeWidth:"2",vectorEffect:"non-scaling-stroke",className:"mark "+self.options.className});var circleOuterNode=self._createCircle({cy:self.center.y-500,cx:self.center.x,r:"30",opacity:"0.5",fill:self.options.stroke||"royalblue",strokeWidth:"0",vectorEffect:"non-scaling-stroke",className:"mark "+self.options.className});groupNode.appendChild(circleOuterNode);groupNode.appendChild(circleInnerNode);return{group:groupNode,circleInner:circleInnerNode,circleOuter:circleOuterNode}}}});root.PM.Mark=Mark})(this);(function(root,undefined){var poly2tri=root.poly2tri;var Reg=function(options){var self=this;self._obtainOptions(options);self._init()};Reg.prototype={showUPin:function(image){var self=this;if(!self.upin){self.upin=new root.PM.UPin({center:self.center,viewport:self.el.parentNode,image:image,regs:[self.num]})}self.upin.show()},hideUPin:function(){var self=this;self.upin.hide()},showMark:function(className,image){var self=this;if(!self.mark){self.mark=new root.PM.Mark({center:self.center,viewport:self.el.parentNode,className:className,image:image,regs:[self.num]})}self.mark.show()},hideMark:function(){var self=this;self.mark.hide()},setColor:function(num){var self=this;self.color=num;self._addColorClass(num)},setCenter:function(center){var self=this;self.center=center},_init:function(){var self=this;self.el=self.options.el;self.markers={};self.interactivity=self.options.interactivity===false?false:true;if(self._isReg(self.el)){var reg=self.interactivity?"reg":"reg_static";self.el.setAttribute("class",reg);self.num=parseInt(self._getNumber());self.polygons=self._pickPoligons();self._bindHandlers();self.center=self._defineGeometricCenter()}},_triangularize:function(){var self=this;var allTriangles=[];var areas=[];var i,l=self.polygons.length;for(i=0;i<l;i+=1){var contour=[];var points=self.polygons[i].getAttribute("points").split(" ");var j,len=points.length;for(j=0;j<len;j+=1){var pair=points[j].split(",");var x=parseInt(pair[0]);var y=parseInt(pair[1]);if(x&&y){var uniq=true;var k,length=contour.length;for(k=0;k<length;k+=1){if(x===contour[k]["x"]&&y===contour[k]["y"]){uniq=false;console.log(123);break}}if(uniq){contour.push(new poly2tri.Point(x,y))}}}console.log(contour);var swctx=new poly2tri.SweepContext(contour);swctx.triangulate();var triangles=swctx.getTriangles();triangles.forEach(function(t){allTriangles.push(t);var A=t.getPoint(0);var B=t.getPoint(1);var C=t.getPoint(2);var area=Math.abs((A.x*(B.y-C.y)+B.x*(C.y-A.y)+C.x*(A.y-B.y))/2);areas.push(area)})}},_getLargestPoly:function(){var self=this;var points=[];var i,len=self.polygons.length;for(i=0;i<len;i+=1){if(self.polygons[i].getAttribute("points")){points.push(self.polygons[i].getAttribute("points").split(" ").length)}else{return false}}return points.indexOf(Math.max.apply(Math,points))},_defineGeometricCenter:function(){var self=this;var num=self._getLargestPoly()||0;var coordinates=self.polygons[num].getBBox();var lat=(coordinates.y+coordinates.y+coordinates.height)/2;var lng=(coordinates.x+coordinates.x+coordinates.width)/2;return{x:lng,y:lat}},_unscaleMarker:function(){var self=this;if(self.pinNodes){self._unscale()}},_applyMatrix:function(el,matrix){var self=this;var svg=self.el.ownerSVGElement;var xf=svg.createSVGTransform();var m=svg.getTransformToElement(self.el.parentNode);m.a=matrix.a||m.a;m.b=matrix.b||m.b;m.c=matrix.c||m.c;m.d=matrix.d||m.d;m.e=matrix.e||m.e;m.f=matrix.f||m.f;xf.setMatrix(m);el.transform.baseVal.appendItem(xf)},_addColorClass:function(num){var self=this;var classes=self.el.getAttribute("class")?self.el.getAttribute("class").split():[];var resultClasses=[];var i,l=classes.length;for(i=0;i<l;i+=1){if(classes[i].substr(0,5)!=="color"){resultClasses.push(classes[i])}}resultClasses.push("color_"+num);self.el.setAttribute("class",resultClasses.join(" "))},_getNumber:function(){var self=this;return self.el.id.substr(3)},_pickPoligons:function(){var self=this;var polygons=[];var pathNodes=Array.prototype.slice.call(self.el.childNodes);var i,l=pathNodes.length;for(i=0;i<l;i+=1){var node=pathNodes[i];if(node.nodeType===Node.ELEMENT_NODE){polygons.push(node)}}return polygons},_bindHandlers:function(){var self=this;self.el.addEventListener("mouseover",function(e){pubsub.publish("map:reg:over",{target:self,original:e})},false);self.el.addEventListener("mouseleave",function(e){pubsub.publish("map:reg:out",{target:self,original:e})},false);self.el.addEventListener("mousedown",function(e){self.click=[e.clientX,e.clientY]},false);self.el.addEventListener("mouseup",function(e){if(Math.abs(e.clientX-self.click[0])<3&&Math.abs(e.clientY-self.click[1])<3){pubsub.publish("map:reg:click",{target:self,original:e})}},false)},_isReg:function(el){return el.id.substr(0,3)==="reg"?true:false},_obtainOptions:function(options){var self=this;self.options={};for(var param in options){if(options.hasOwnProperty(param))self.options[param]=options[param]}}};root.PM.Reg=Reg})(this);(function(root,undefined){var document=root.document;var Map=function(options){var self=this;self._obtainOptions(options);self._init()};Map.prototype={centrate:function(){var self=this;function getEventPoint(e){var p=self.svgNode.createSVGPoint();p.x=e.clientX;p.y=e.clientY;return p}document.addEventListener("click",function(e){var svgDoc=e.target.ownerDocument;var g=self.viewportNode;var stateTf=g.getScreenCTM().inverse();var stateOrigin=getEventPoint(e).matrixTransform(stateTf);console.log("Coordinates of click: ");console.log(stateOrigin)},false)},minimap:function(opts){var self=this;var minimap=new PM.Map({svg:opts.svg||self.options.svg,container:opts.container,callback:function(){var regs=[];var reg=minimap.getReg(opts.mainRegNum);reg.setColor(21);regs.push(reg);var i,len=opts.otherRegsNums.length;for(i=0;i<len;i+=1){var reg=minimap.getReg(opts.otherRegsNums[i]);regs.push(reg);reg.setColor(22)}var viewBBox={x:Infinity,y:Infinity,x2:-Infinity,y2:-Infinity};for(i=0;i<=len;i+=1){viewBBox.x=Math.min(regs[i].el.getBBox().x,viewBBox.x);viewBBox.y=Math.min(regs[i].el.getBBox().y,viewBBox.y);viewBBox.x2=Math.max(regs[i].el.getBBox().width+regs[i].el.getBBox().x,viewBBox.x2);viewBBox.y2=Math.max(regs[i].el.getBBox().height+regs[i].el.getBBox().y,viewBBox.y2)}viewBBox.width=viewBBox.x2-viewBBox.x;viewBBox.height=viewBBox.y2-viewBBox.y;minimap._focus(viewBBox);map.getReg(76).setColor(1);opts.callback()},interactivity:false})},focus:function(num,ms,zoomOut){var self=this;var viewBBox;if(num){viewBBox=self.regs[num].el.getBBox()}else{viewBBox=self.viewportNode.getBBox()}self._focus(viewBBox,ms,zoomOut)},getReg:function(num){return this.regs[num]},showUPin:function(num,image){var self=this;self.regs[num].showUPin(image)},hideUPin:function(num){var self=this;self.regs[num].hideUPin()},showPPin:function(num1,num2,image){var self=this;var reg1=self.regs[num1];var reg2=self.regs[num2];var centers={a:reg1.center,b:reg2.center};var ppin=new root.PM.PPin({viewport:self.viewportNode,centers:centers,image:image,stroke:"blue",regs:[reg1.num,reg2.num]});ppin.show();self.ppins[self._pair(num1,num2)]=ppin},hidePPin:function(num1,num2){var self=this;self.ppins[self._pair(num1,num2)].hide()},showMark:function(num,className,image){var self=this;self.regs[num].showMark(className,image)},hideMark:function(num){var self=this;self.regs[num].hideMark()},_animatrix:function(ms,from,to){var self=this;ms=ms/10;var steps={a:(to.a-from.a)/ms,d:(to.d-from.d)/ms,e:(to.e-from.e)/ms,f:(to.f-from.f)/ms};var i=setInterval(function(){if(ms--){console.log("zoooooooooooooooooooooooooom");from.a+=steps.a;from.d+=steps.d;from.e+=steps.e;from.f+=steps.f;self._setCTM({a:from.a,d:from.d,e:from.e,f:from.f});self._wheel()}else{clearInterval(i)}},10)},_applyMatrix:function(matrix){var self=this;var svg=self.viewportNode.ownerSVGElement;var xf=svg.createSVGTransform();var m=svg.getTransformToElement(self.viewportNode);m.a=matrix.a||m.a;m.b=matrix.b||m.b;m.c=matrix.c||m.c;m.d=matrix.d||m.d;m.e=matrix.e||m.e;m.f=matrix.f||m.f;xf.setMatrix(m);self.viewportNode.transform.baseVal.appendItem(xf)},_pair:function(a,b){if(a<b){_a=a;a=b;b=_a}return a+"_"+b},_guid:function(){function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return function(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}()},_init:function(){var self=this;self.ppins={};self.options.container=self.options.container||self.options.$container[0];self.uid=self._guid();self.interactivity=self.options.interactivity===false?false:true;function whenLoaded(){self.svgNode.id="pol-map-"+self.uid;self._createRegions();self._bindHandlers();self._panifySvg();self.options.callback()}if(self.options.svg.node){self.svgNode=self.options.svg.node;whenLoaded()}else if(self.options.svg.text&&self.options.container){var svgWrap=document.createElement("div");svgWrap.className="pol-map-wrap";svgWrap.innerHTML=self.options.svg.text;self.options.container.innerHTML="";self.options.container.appendChild(svgWrap);self.svgNode=svgWrap.getElementsByTagName("svg")[0];whenLoaded()}else if(self.options.svg.url&&self.options.container){var svgWrap=document.createElement("div");svgWrap.className="pol-map-wrap";self._loadSvg(self.options.svg.url,function(responseText){svgWrap.innerHTML=responseText;self.options.container.innerHTML="";self.options.container.appendChild(svgWrap);self.svgNode=svgWrap.getElementsByTagName("svg")[0];whenLoaded()})}else{throw new Error("Object was instantiated with wrong set of params. Please, check up documentation.")}},_focus:function(viewBBox,ms,zoomOut){var self=this;var zoomOut=zoomOut||1;var svgBBox=self.svgNode.parentNode.getBoundingClientRect();var z={y:svgBBox.height/viewBBox.height,x:svgBBox.width/viewBBox.width};z=Math.min(z.x,z.y)*zoomOut;var ctm={a:z,d:z,e:-viewBBox.x*z-viewBBox.width*z/2+svgBBox.width/2,f:-viewBBox.y*z-viewBBox.height*z/2+svgBBox.height/2};if(ms){self._animatrix(1e3,self._getCTM(),ctm)}else{self._setCTM(ctm)}self._wheel()},_bindHandlers:function(){var self=this;if(self.interactivity){window.addEventListener("mousewheel",function(e){self._wheel()},false);window.addEventListener("DOMMouseScroll",function(e){self._wheel()},false)}},_wheel:function(){var self=this;pubsub.publish("map:wheel","true")},_createMarkersLayer:function(){var self=this;var layerNode=document.createElementNS("http://www.w3.org/2000/svg","g");layerNode.id="markers-layer";self.svgNode.appendChild(layerNode)},_getCTM:function(){var self=this;return self.viewportNode.getCTM()},_setCTM:function(ctm){var self=this;var xf=self.viewportNode.ownerSVGElement.createSVGTransform();var m=self._getCTM();m.a=ctm.a||m.a;m.b=ctm.b||m.b;m.c=ctm.c||m.c;m.d=ctm.d||m.d;m.e=ctm.e||m.e;m.f=ctm.f||m.f;xf.setMatrix(m);self.viewportNode.transform.baseVal.initialize(xf)},_createRegions:function(){var self=this;self.viewportNode=self.svgNode.getElementById("viewport");self.focus();var regNodes=Array.prototype.slice.call(self.viewportNode.childNodes);self.regs=[];console.log(self.interactive);var i,l=regNodes.length;for(i=0;i<l;i+=1){var node=regNodes[i];if(node.nodeType===Node.ELEMENT_NODE){var reg=new root.PM.Reg({el:node,interactivity:self.interactivity});if(reg){if(self.options.centers&&self.options.centers[reg.num]){reg.setCenter(self.options.centers[reg.num])}self.regs[reg.num]=reg}}}},_panifySvg:function(svgNode){var self=this;if(self.interactivity){var id="#pol-map-"+self.uid;$(id).svgPan("viewport")}},_loadSvg:function(url,callback){var self=this;var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.onreadystatechange=function(){if(xhr.readyState===4&&xhr.status==200){callback(xhr.responseText)}};xhr.send()},_obtainOptions:function(options){var self=this;self.options={};for(var param in options){if(options.hasOwnProperty(param))self.options[param]=options[param]}}};root.PM.Map=Map})(this);
//# sourceMappingURL=script.min.js.map